<link rel="import" href="bower_components/polymer-redux/polymer-redux.html">


<script>


    const initialState = {
        statements: [],
        url:"http://127.0.0.1:3030",
        ds: "test",
        graphe: "<http://smag0.blogspot.fr/SparqlUpdate>",
        currentNode: {},
        nb: 0
    };



    const reducer = (state, action) => {
        if (!state) return initialState;
        switch (action.type) {
            case 'ADD_STATEMENT':
                const statements = state.statements.slice(0);
                statements.push(action.statement);
                return Object.assign({}, state, { statements: statements });
                break;
            case 'UPDATE_NB_MAJ':
                var nb = action.nb;
                return Object.assign({}, state, { nb: nb });
                break;
            case 'UPDATE_PARAMETRES':
                var url = action.url;
                var ds = action.ds;
                var graphe = action.graphe;
                return Object.assign({}, state, { url: url,ds: ds, graphe:graphe });
                break;
            case 'SET_CURRENT_NODE':
                console.log(action);
                var currentNode = state.currentNode;
                currentNode = action.currentNode;
                return Object.assign({},state, {currentNode: currentNode});
                break;
            case 'RESET_PARAMETRES':
                var  url = "http://127.0.0.1:3030";
                var ds = "test";
                var graphe = "<http://smag0.blogspot.fr/SparqlUpdate>";
                return Object.assign({}, state, { url: url,ds: ds, graphe:graphe });
                break;
            default:
                console.log("reducer ne connait pas cette action");
        }

    };



    const store = Redux.createStore(reducer);
    const ReduxBehavior = PolymerRedux(store);


</script>
